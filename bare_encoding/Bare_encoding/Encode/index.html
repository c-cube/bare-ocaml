<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Encode (bare_encoding.Bare_encoding.Encode)</title><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.2.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">bare_encoding</a> &#x00BB; <a href="../index.html">Bare_encoding</a> &#x00BB; Encode</nav><header class="odoc-preamble"><h1>Module <code><span>Bare_encoding.Encode</span></code></h1><p>Encoder type and some encoding utils.</p><p>The type <a href="#type-t"><code>Encode.t</code></a> is passed to type-specific encoders so they can serialize values into bytes. This module also provides a host of functions that encode specific types (mostly integers and strings) into the <a href="#type-t"><code>Encode.t</code></a>.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div><div class="spec-doc"><p>Encoding state.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-of_output"><a href="#val-of_output" class="anchor"></a><code><span><span class="keyword">val</span> of_output : <span><a href="../index.html#type-output">output</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Encoding state that writes into the given output.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 0.2</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-of_buffer"><a href="#val-of_buffer" class="anchor"></a><code><span><span class="keyword">val</span> of_buffer : <span><span class="xref-unresolved">Stdlib</span>.Buffer.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Encoding state that emits bytes into the given buffer. After using a type encoder on this encoder, the buffer will contain the bytes.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-enc"><a href="#type-enc" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a enc</span></span><span> = <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>A type encoder for values of type <code>'a</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-uint"><a href="#val-uint" class="anchor"></a><code><span><span class="keyword">val</span> uint : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int64 <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Encode unsigned integers using the varint encoding</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-int"><a href="#val-int" class="anchor"></a><code><span><span class="keyword">val</span> int : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int64 <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Encode signed integers using the varint encoding</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-u8"><a href="#val-u8" class="anchor"></a><code><span><span class="keyword">val</span> u8 : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>char <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Encode a single byte</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-u16"><a href="#val-u16" class="anchor"></a><code><span><span class="keyword">val</span> u16 : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Encode a two byte unsigned integers in little endian</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-u32"><a href="#val-u32" class="anchor"></a><code><span><span class="keyword">val</span> u32 : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int32 <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Encode an unsigned int32 integer in little endian</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-u64"><a href="#val-u64" class="anchor"></a><code><span><span class="keyword">val</span> u64 : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int64 <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Encode an unsigned int64 integer in little endian</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-i8"><a href="#val-i8" class="anchor"></a><code><span><span class="keyword">val</span> i8 : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>char <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Same as <a href="#val-u8"><code>u8</code></a></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-i16"><a href="#val-i16" class="anchor"></a><code><span><span class="keyword">val</span> i16 : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Encode a two byte unsigned integers in little endian</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-i32"><a href="#val-i32" class="anchor"></a><code><span><span class="keyword">val</span> i32 : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int32 <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Encode a int32 integer in little endian</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-i64"><a href="#val-i64" class="anchor"></a><code><span><span class="keyword">val</span> i64 : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int64 <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Encode a int64 integer in little endian</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-bool"><a href="#val-bool" class="anchor"></a><code><span><span class="keyword">val</span> bool : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>bool <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Encode a boolean as a single byte <code>0</code> or <code>1</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-f64"><a href="#val-f64" class="anchor"></a><code><span><span class="keyword">val</span> f64 : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Encode a float.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-string"><a href="#val-string" class="anchor"></a><code><span><span class="keyword">val</span> string : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Encode a string, prefixed by its length</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-data"><a href="#val-data" class="anchor"></a><code><span><span class="keyword">val</span> data : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>bytes <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Encode a blob, prefixed by its length</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-data_of"><a href="#val-data_of" class="anchor"></a><code><span><span class="keyword">val</span> data_of : <span>size:int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>bytes <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Encode a blob of fixed size.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Failure</span> <p>if the blob's length in bytes is not equal to <code>size</code></p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-optional"><a href="#val-optional" class="anchor"></a><code><span><span class="keyword">val</span> optional : <span><span><span class="type-var">'a</span> <a href="#type-enc">enc</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> option</span> <a href="#type-enc">enc</a></span></span></code></div><div class="spec-doc"><p>Encode an optional value, as either <code>0</code> for <code>None</code> or <code>1</code> followed by the encoding of <code>x</code> for <code>Some x</code>.</p></div></div></div></body></html>